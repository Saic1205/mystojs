"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},__assign.apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(t,e,a);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(require("react")),framer_motion_1=require("framer-motion"),Navbar=function(e){var t=e.logo,a=e.navItems,n=e.buttons,r=void 0===n?[]:n,i=e.activeItemColor,o=void 0===i?"text-orange-500":i,c=e.hoverItemColor,l=void 0===c?"hover:text-orange-500":c,u=e.backgroundColor,m=void 0===u?"bg-white":u,s=e.underlineColor,f=void 0===s?"bg-orange-500":s,d=e.hideOnScroll,_=void 0===d||d,h=e.currentPath,v=(0,react_1.useState)(!1),p=v[0],g=v[1],b=(0,react_1.useState)({}),E=b[0],y=b[1],x=(0,react_1.useState)(!1),w=x[0],N=x[1],I=(0,framer_motion_1.useScroll)().scrollY,C=(0,react_1.useRef)({}),k=(0,react_1.useState)(null),O=k[0],M=k[1];(0,framer_motion_1.useMotionValueEvent)(I,"change",(function(e){if(_){var t=I.getPrevious();void 0!==t&&N(e>t&&e>150)}}));var j=function(){g(!p),y({})},P=function(e){y((function(t){var a;return __assign(__assign({},t),((a={})[e]=!t[e],a))}))};(0,react_1.useEffect)((function(){var e=function(e){Object.keys(E).forEach((function(t){C.current[t]&&!C.current[t].contains(e.target)&&y((function(e){var a;return __assign(__assign({},e),((a={})[t]=!1,a))}))}))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[E]),(0,react_1.useEffect)((function(){var e=a.find((function(e){return h===e.href||e.subItems&&e.subItems.some((function(e){return h===e.href}))}));e&&M(e.href)}),[h,a]);var A;return react_1.default.createElement(framer_motion_1.motion.header,{variants:{visible:{y:0},hidden:{y:"-100%"}},animate:_&&w?"hidden":"visible",transition:{duration:.35,ease:"easeInOut"},className:"fixed top-0 left-0 right-0 w-full ".concat(m," text-gray-800 shadow-md z-50")},react_1.default.createElement("div",{className:"container mx-auto px-4"},react_1.default.createElement("div",{className:"flex items-center justify-between lg:justify-evenly"},t,react_1.default.createElement("nav",{className:"hidden lg:flex items-center h-16 relative"},a.map((function(e){return react_1.default.createElement(NavItem,{key:e.href,item:e,navRefs:C,toggleDropdown:P,isOpen:!!E[e.href],activeItemColor:o,hoverItemColor:l,setActiveItem:M,isActive:h===e.href||O===e.href})})),react_1.default.createElement(framer_motion_1.motion.div,{className:"absolute bottom-0 h-1 ".concat(f),initial:!1,animate:(A=C.current[O||""],A?{width:A.offsetWidth,left:A.offsetLeft}:{width:0,left:0}),transition:{type:"spring",stiffness:300,damping:30}})),react_1.default.createElement("div",{className:"hidden lg:flex items-center space-x-2"},r.map((function(e,t){return react_1.default.createElement(react_1.default.Fragment,{key:t},e)}))),react_1.default.createElement("button",{className:"lg:hidden focus:outline-none",onClick:j},p?"Close":"Menu"))),react_1.default.createElement(framer_motion_1.AnimatePresence,null,p&&react_1.default.createElement(framer_motion_1.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"lg:hidden"},react_1.default.createElement("div",{className:"px-2 pt-2 pb-3 space-y-1"},a.map((function(e){return react_1.default.createElement(MobileNavItem,{key:e.href,item:e,toggleMobileMenu:j,toggleDropdown:P,isOpen:!!E[e.href],activeItemColor:o,hoverItemColor:l,isActive:h===e.href||O===e.href})})),r.map((function(e,t){return react_1.default.createElement("div",{key:t,className:"py-2"},e)}))))))},NavItem=function(e){var t=e.item,a=e.navRefs,n=e.toggleDropdown,r=e.isOpen,i=e.activeItemColor,o=e.hoverItemColor,c=e.setActiveItem,l=e.isActive;return t.subItems?react_1.default.createElement("div",{className:"relative group h-full flex items-center",ref:function(e){e&&(a.current[t.href]=e)},onClick:function(){return n(t.href)}},react_1.default.createElement("button",{className:"h-full px-3 flex items-center ".concat(l?i:o)},t.icon&&react_1.default.createElement(t.icon,{className:"mr-2"}),t.name,react_1.default.createElement(framer_motion_1.motion.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 ml-1",animate:{rotate:r?180:0},transition:{duration:.2}},react_1.default.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))),react_1.default.createElement(framer_motion_1.AnimatePresence,null,r&&react_1.default.createElement(framer_motion_1.motion.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute left-0 top-full w-auto rounded-b-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},t.subItems.map((function(e){return react_1.default.createElement("li",{key:e.href},react_1.default.createElement("a",{href:e.href,className:"block px-4 py-2 text-sm ".concat(o),onClick:function(a){a.stopPropagation(),n(t.href),c(e.href)}},e.icon&&react_1.default.createElement(e.icon,{className:"mr-2 inline"}),e.name))}))))):react_1.default.createElement("a",{href:t.href,className:"h-full flex items-center px-3 ".concat(l?i:o),ref:function(e){e&&(a.current[t.href]=e)},onClick:function(){return c(t.href)}},t.icon&&react_1.default.createElement(t.icon,{className:"mr-2"}),t.name)},MobileNavItem=function(e){var t=e.item,a=e.toggleMobileMenu,n=e.toggleDropdown,r=e.isOpen,i=e.activeItemColor,o=e.hoverItemColor,c=e.isActive;return t.subItems?react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",{className:"w-full text-left px-3 py-2 rounded-md text-base font-medium ".concat(c?i:o," flex items-center justify-between"),onClick:function(){return n(t.href)}},react_1.default.createElement("span",{className:"flex items-center"},t.icon&&react_1.default.createElement(t.icon,{className:"mr-2"}),t.name),react_1.default.createElement(framer_motion_1.motion.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",animate:{rotate:r?180:0},transition:{duration:.2}},react_1.default.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))),react_1.default.createElement(framer_motion_1.AnimatePresence,null,r&&react_1.default.createElement(framer_motion_1.motion.ul,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"pl-4"},t.subItems.map((function(e){return react_1.default.createElement("li",{key:e.href},react_1.default.createElement("a",{href:e.href,className:"block px-3 py-2 rounded-md text-sm hover:bg-neutral-100 text-nowrap ".concat(o),onClick:function(){n(t.href),a()}},e.icon&&react_1.default.createElement(e.icon,{className:"mr-2 inline"}),e.name))}))))):react_1.default.createElement("a",{href:t.href,className:"block px-3 py-2 rounded-md text-base font-medium ".concat(c?i:o),onClick:a},t.icon&&react_1.default.createElement(t.icon,{className:"mr-2 inline"}),t.name)};exports.default=Navbar;